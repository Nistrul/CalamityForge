if encounters
  div.encounterTablePanelRow.clearfix
    span.encounterTablePanelHeader= 'Encounters for ' + encounters.xp + ' XP'
    input.encounterTablePanelRollDisplay#rollDisplay1(readonly='true')
    button.encounterTablePanelRollButton(type='button' onclick='rollOnTable(\'#rollDisplay1\')') Roll
  div.encounterTablePanelRow.encounterTableInner
    table#encounterTable.table.encounterTable
      thead.encounterTableHead
        tr.encounterTableHeaderRow
          th.diceRollColumn Roll
          th.CRColumn CR A
          th.CRColumn CR B
          th.CRColumn CR C
          th.XPColumn XP
          if debugging
            th.DebugColumn Xpt
            th.DebugColumn Grp
            th.DebugColumn Pow
            th.DebugColumn Num
            th.DebugColumn Wt
      tbody.encounterTableBody
        each val in encounters
          if (val.creatureGroups.length === 1)
            tr.encounterTableBodyRow(data-low=val.low, data-high=val.high, data-crgroups=val.creatureGroups.length, data-crgroup0count=val.creatureGroups[0].num, data-crgroup0index=val.creatureGroups[0].crIndex)
              td.diceRollColumn= val.rollText
              if val.creatureGroups[0].num > 1
                td.CRColumn= val.creatureGroups[0].num + 'x ' + val.creatureGroups[0].cr
              else
                td.CRColumn= val.creatureGroups[0].cr
              td
              td
              td.XPColumn= val.xp
          if (val.creatureGroups.length === 2)
            tr.encounterTableBodyRow(data-low=val.low, data-high=val.high, data-crgroups=val.creatureGroups.length, data-crgroup0count=val.creatureGroups[0].num, data-crgroup0index=val.creatureGroups[0].crIndex, data-crgroup1count=val.creatureGroups[1].num, data-crgroup1index=val.creatureGroups[1].crIndex)
              td.diceRollColumn= val.rollText
              if val.creatureGroups[0].num > 1
                td.CRColumn= val.creatureGroups[0].num + 'x ' + val.creatureGroups[0].cr
              else
                td.CRColumn= val.creatureGroups[0].cr
              if val.creatureGroups[1].num > 1
                td.CRColumn= val.creatureGroups[1].num + 'x ' + val.creatureGroups[1].cr
              else
                td.CRColumn= val.creatureGroups[1].cr
              td
              td.XPColumn= val.xp
          if (val.creatureGroups.length === 3)
            tr.encounterTableBodyRow(data-low=val.low, data-high=val.high, data-crgroups=val.creatureGroups.length, data-crgroup0count=val.creatureGroups[0].num, data-crgroup0index=val.creatureGroups[0].crIndex, data-crgroup1count=val.creatureGroups[1].num, data-crgroup1index=val.creatureGroups[1].crIndex, data-crgroup2count=val.creatureGroups[2].num, data-crgroup2index=val.creatureGroups[2].crIndex)
              td.diceRollColumn= val.rollText
              if val.creatureGroups[0].num > 1
                td.CRColumn= val.creatureGroups[0].num + 'x ' + val.creatureGroups[0].cr
              else
                td.CRColumn= val.creatureGroups[0].cr
              if val.creatureGroups[1].num > 1
                td.CRColumn= val.creatureGroups[1].num + 'x ' + val.creatureGroups[1].cr
              else
                td.CRColumn= val.creatureGroups[1].cr
              if val.creatureGroups[2].num > 1
                td.CRColumn= val.creatureGroups[2].num + 'x ' + val.creatureGroups[2].cr
              else
                td.CRColumn= val.creatureGroups[2].cr
              td.XPColumn= val.xp
          if debugging
            td.text-right= Math.round(val.factors.xpTolerance * 10) / 10
            td.text-right= val.factors.numberOfGroups
            td.text-right= val.factors.mostPowerfulCreature
            td.text-right= val.factors.numberOfCreatures
            td.text-right= val.weight
